<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Video</title>

    <link href="video-js.min.css" rel="stylesheet">
    <style>
    body{margin:0}
    input{width:600px;height:20px;line-height:20px;}
    .my-video{width:100%;height:480px;}
    .my-video>.vjs-big-play-button{top:45%;left:42%;width:16%;height:70px;line-height:70px;}
    .my-video>.vjs-control-bar{width:70%;left:15%;bottom:33px;}
    .video-list>div, .video-list>div>a{margin-left:10px;}
    </style>
  </head>

  <body>

    <!-- 
      <video poster="video-poster.jpg" autoplay data-setup='{"techOrder": ["flash"]}'
    //-->
    <video poster="video-poster.jpg" id="my-video" class="my-video video-js vjs-default-skin" controls preload="auto" autoplay data-setup='{}'></video>

    <div class="video-list">
        <div>
            <input type="text" value="" id="video-input"/>
            <button type="button" onclick="playInput()">播放</button>
        </div>
        <div>
            <a target="_blank" href="https://chrome.google.com/webstore/detail/modheader/idgpnmonknjnojddfkpgkljpfnnfcklj">
                Chrome 自定义头信息插件
            </a>
            <a href="javascript:playUrl('http://vjs.zencdn.net/v/oceans.mp4');">
                oceans.mp4
            </a>
            <a href="javascript:playUrl('http://vjs.zencdn.net/v/oceans.webm');">
                oceans.webm
            </a>
            <a href="javascript:playUrl('http://vjs.zencdn.net/v/oceans.ogv');">
                oceans.ogv
            </a>
            <a href="javascript:playUrl('https://starmakerapp-hrd.appspot.com/api/v16/web/recordings/4664162789097472/masterhls');">
                x-mpegURL
            </a>
        </div>
    </div>

    <script src="video.min.js"></script>
    <script src="videojs-contrib-hls.min.js"></script>
    <script>
    <!--
    videojs.options.flash.swf = "video-js-4.5.1.swf";
    function playUrl(video_url) {
        document.getElementById("video-input").value = video_url;
        playInput();
    }
    function playInput() {
        var video_url = document.getElementById("video-input").value;
        var video_type = "application/x-mpegURL";
        if (/\.mp4$/.test(video_url)) {
            video_type = "video/mp4"
        }
        else if (/\.webm$/.test(video_url)) {
            video_type = "video/webm"
        }
        else if (/\.ogv$/.test(video_url)) {
            video_type = "video/ogg"
        }
        if (/^https?:\/\/.+/.test(video_url)) {
            videoPlay(video_url, video_type);
        }
    }
    function videoPlay(video_url, video_type) {
        videojs("my-video").src([{type:video_type, src:video_url}]);
    }
    //-->
    </script>

  </body>
</html>