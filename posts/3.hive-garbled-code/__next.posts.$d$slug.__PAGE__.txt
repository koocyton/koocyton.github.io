1:"$Sreact.fragment"
2:I[22016,["/_next/static/chunks/7c92e96509cd355e.js"],""]
4:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/d2be314c3ece3fbe.js"],"OutletBoundary"]
5:"$Sreact.suspense"
3:T8ea,<p>Hive字段中文乱码，如执行 show create table xxx 时，表级别注释、字段级别注释发现有乱码现象（都是？？？？）， 一般都是由hive 元数据库的配置不当造成的。</p>
<p>此时可按如下步骤进行配置调整：</p>
<p>登录hive的元数据库mysql中：（不是在hive sql 环境下执行）</p>
<p>1、设置hive 元数据库字符集</p>
<pre><code class="hljs language-SQL"><span class="hljs-keyword">show</span> <span class="hljs-keyword">create</span> database hive;
</code></pre>
<p>查看为utf8，需变更为latin1</p>
<pre><code class="hljs language-SQL"><span class="hljs-keyword">alter</span> database hive <span class="hljs-keyword">character set</span> latin1;  （可参阅）
</code></pre>
<p>2、更改如下表字段为字符集编码为 utf8</p>
<pre><code class="hljs language-SQL"><span class="hljs-keyword">alter table</span> COLUMNS_V2 modify <span class="hljs-keyword">column</span> COMMENT <span class="hljs-type">varchar</span>(<span class="hljs-number">256</span>) <span class="hljs-keyword">character set</span> utf8;
<span class="hljs-keyword">alter table</span> TABLE_PARAMS modify <span class="hljs-keyword">column</span> PARAM_VALUE <span class="hljs-type">varchar</span>(<span class="hljs-number">4000</span>) <span class="hljs-keyword">character set</span> utf8;
<span class="hljs-keyword">alter table</span> PARTITION_PARAMS  modify <span class="hljs-keyword">column</span> PARAM_VALUE <span class="hljs-type">varchar</span>(<span class="hljs-number">4000</span>) <span class="hljs-keyword">character set</span> utf8;
<span class="hljs-keyword">alter table</span> PARTITION_KEYS  modify <span class="hljs-keyword">column</span> PKEY_COMMENT <span class="hljs-type">varchar</span>(<span class="hljs-number">4000</span>) <span class="hljs-keyword">character set</span> utf8;
<span class="hljs-keyword">alter table</span>  INDEX_PARAMS  modify <span class="hljs-keyword">column</span> PARAM_VALUE  <span class="hljs-type">varchar</span>(<span class="hljs-number">4000</span>) <span class="hljs-keyword">character set</span> utf8;
</code></pre>
<p>可以看到，如下语句分别对可能出现中文的字段、表参数、分区设置、及索引参数等字段，调整了字符集编码</p>0:{"buildId":"BNN7HmdTdyAI3DhH-pmjh","rsc":["$","$1","c",{"children":[["$","article",null,{"className":"max-w-2xl mx-auto px-5 py-10","children":[["$","header",null,{"className":"mb-8","children":[["$","h1",null,{"className":"font-mono text-xl font-semibold text-[var(--color-text)] leading-tight","children":"Hive字段中文注释乱码解决办法"}],["$","div",null,{"className":"flex items-center gap-3 mt-2 text-xs text-[var(--color-text-tertiary)] font-mono","children":[["$","time",null,{"dateTime":"2023-01-03","children":"2023-01-03"}],["$","span",null,{"children":"·"}],["$","span",null,{"children":"2 min read"}]]}],["$","div",null,{"className":"flex flex-wrap gap-1.5 mt-3","children":[["$","$L2","hive",{"href":"/tags/hive","className":"text-xs font-mono text-[var(--color-text-tertiary)] hover:text-[var(--color-link)] transition-colors","children":["#","hive"]}]]}]]}],["$","div",null,{"className":"prose","dangerouslySetInnerHTML":{"__html":"$3"}}],["$","footer",null,{"className":"mt-12 pt-4 border-t border-[var(--color-border)]","children":["$","$L2",null,{"href":"/","className":"text-sm text-[var(--color-link)] hover:underline","children":"← 返回"}]}]]}],null,["$","$L4",null,{"children":["$","$5",null,{"name":"Next.MetadataOutlet","children":"$@6"}]}]]}],"loading":null,"isPartial":false}
6:null
