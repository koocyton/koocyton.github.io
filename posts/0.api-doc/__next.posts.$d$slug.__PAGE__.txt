1:"$Sreact.fragment"
7:I[31175,["/_next/static/chunks/7c92e96509cd355e.js","/_next/static/chunks/bbef3146f2d34722.js"],"default"]
8:I[22016,["/_next/static/chunks/7c92e96509cd355e.js","/_next/static/chunks/bbef3146f2d34722.js"],""]
9:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/d2be314c3ece3fbe.js"],"OutletBoundary"]
a:"$Sreact.suspense"
2:T2698,<h2>1. 获取公钥</h2>
<pre><code class="hljs language-JSON">GET /api/v1/ad/protocol/secureTokens

返回 
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"success"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"公钥1 key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"公钥1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"公钥2 key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"公钥2"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2>2. 上传密钥</h2>
<pre><code class="hljs language-JSON">POST /api/v1/ad/protocol/encryptKey

请求 
xx...<span class="hljs-punctuation">:</span>xxx...

返回 
xxxxx....
</code></pre>
<h2>3. 基本配置</h2>
<pre><code class="hljs language-JSON">POST /api/v1/ad/config

请求
<span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"adPlatform"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"Vivo"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 平台 Oppo Xiaomi Huawei..</span>
    <span class="hljs-attr">"businessCode"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"Tiantian"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// Tiantian  Huanman</span>
    <span class="hljs-attr">"deviceId"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"xxxxxx"</span>  <span class="hljs-comment">// 唯一 机器ID</span>
<span class="hljs-punctuation">}</span>

返回 
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"success"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"uncloseRate"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">80</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 不能关闭的百分比</span>
    <span class="hljs-attr">"adQuota"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">19</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// 剩余显示多少次广告</span>
    <span class="hljs-attr">"region"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1"</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// （废弃） </span>
    <span class="hljs-attr">"rapps"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"org.hapjs.debugger"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 包名</span>
        <span class="hljs-string">"more package name..."</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2>4. 壁纸</h2>
<pre><code class="hljs language-JSON">POST /api/v1/ad/wallpapers

请求
<span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"adPlatform"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"Vivo"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 平台 Oppo Xiaomi Huawei..</span>
    <span class="hljs-attr">"businessCode"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"Tiantian"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// Tiantian  Huanman</span>
    <span class="hljs-attr">"deviceId"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"xxxxxx"</span>  <span class="hljs-comment">// 唯一 机器ID</span>
<span class="hljs-punctuation">}</span>

返回 
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"success"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"beauty"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>  <span class="hljs-comment">// 分类 KEY</span>
      <span class="hljs-attr">"categoryName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"女孩"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 分类名</span>
      <span class="hljs-attr">"categoryCode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"beauty"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 分类 KEY</span>
      <span class="hljs-attr">"resourceList"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"https://...."</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 图片 1</span>
        <span class="hljs-string">"https://...."</span>  <span class="hljs-comment">// 图片 ...</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"cat"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>  <span class="hljs-comment">// 分类 KEY</span>
      <span class="hljs-attr">"categoryName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"小猫"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 分类名</span>
      <span class="hljs-attr">"categoryCode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cat"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 分类 KEY</span>
      <span class="hljs-attr">"resourceList"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"https://...."</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 图片 1</span>
        <span class="hljs-string">"https://...."</span>  <span class="hljs-comment">// 图片 ...</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2>5. 行为上报</h2>
<pre><code class="hljs language-JSON">POST /api/v1/action/report

请求
<span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"adPlatform"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"Vivo"</span><span class="hljs-punctuation">,</span>       <span class="hljs-comment">// 平台 Oppo Xiaomi Huawei..</span>
    <span class="hljs-attr">"businessCode"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"Tiantian"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// Tiantian  Huanman</span>
    <span class="hljs-attr">"adAction"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"AdFinish"</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// 行为 AppEnter AppExit AdShow AdClick AdFinish</span>
    <span class="hljs-attr">"deviceId"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"xxxxxxx"</span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// 唯一 机器ID</span>
    <span class="hljs-attr">"vivoRequestId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>       <span class="hljs-comment">// 回传点击数据时,透传给广告主的 RequestID</span>
    <span class="hljs-attr">"vivoCreativeId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// 回传点击数据时,透传给广告主的 creativeId</span>
    <span class="hljs-attr">"userId"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"123"</span><span class="hljs-punctuation">,</span>            <span class="hljs-comment">// 用户 id...(可同机器 ID)</span>
    <span class="hljs-attr">"count"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"1"</span>                <span class="hljs-comment">// 固定 1</span>
<span class="hljs-punctuation">}</span>

返回
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"success"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span>
<span class="hljs-punctuation">}</span>
</code></pre>0:{"buildId":"ETn-Hv74St_KXjHehLcgT","rsc":["$","$1","c",{"children":[["$","article",null,{"className":"max-w-2xl mx-auto px-5 py-10","children":[["$","header",null,{"className":"mb-8","children":[["$","h1",null,{"className":"font-mono text-xl font-semibold text-[var(--color-text)] leading-tight","children":"API DOC"}],["$","div",null,{"className":"flex items-center gap-3 mt-2 text-xs text-[var(--color-text-tertiary)] font-mono","children":[["$","time",null,{"dateTime":"2020-01-17","children":"2020-01-17"}],["$","span",null,{"children":"·"}],["$","span",null,{"children":"2 min read"}]]}],false]}],["$","div",null,{"className":"prose","dangerouslySetInnerHTML":{"__html":"$2"}}],"$L3","$L4"]}],["$L5"],"$L6"]}],"loading":null,"isPartial":false}
3:["$","$L7",null,{}]
4:["$","footer",null,{"className":"mt-8 pt-4 border-t border-[var(--color-border)]","children":["$","$L8",null,{"href":"/","className":"text-sm text-[var(--color-link)] hover:underline","children":"← 返回"}]}]
5:["$","script","script-0",{"src":"/_next/static/chunks/bbef3146f2d34722.js","async":true}]
6:["$","$L9",null,{"children":["$","$a",null,{"name":"Next.MetadataOutlet","children":"$@b"}]}]
b:null
